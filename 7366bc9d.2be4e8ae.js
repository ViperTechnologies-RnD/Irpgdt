(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{81:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return i})),a.d(t,"metadata",(function(){return b})),a.d(t,"toc",(function(){return o})),a.d(t,"default",(function(){return d}));var n=a(3),r=a(7),c=(a(0),a(99)),i={id:"doc1",title:"Documentation",sidebar_label:"Dev Doc",slug:"/"},b={unversionedId:"doc1",id:"doc1",isDocsHomePage:!1,title:"Documentation",description:"This is the developer friendly translation of pardakhtcard Iranian Payment Gateway.",source:"@site/docs\\doc1.md",slug:"/",permalink:"/Irpgdt/docs/",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/doc1.md",version:"current",sidebar_label:"Dev Doc"},o=[{value:"SEND",id:"send",children:[{value:"First Stage: Send Data",id:"first-stage-send-data",children:[]}]},{value:"Offline Payment Service",id:"offline-payment-service",children:[]},{value:"Reward Payment Service",id:"reward-payment-service",children:[]},{value:"Redirect",id:"redirect",children:[{value:"Second Stage: Redirect to Payment Page",id:"second-stage-redirect-to-payment-page",children:[]}]},{value:"Callback",id:"callback",children:[{value:"Third Stage: Callback",id:"third-stage-callback",children:[]}]},{value:"Verify",id:"verify",children:[{value:"Fourth Stage: Verify",id:"fourth-stage-verify",children:[]}]}],s={toc:o};function d(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(c.b)("wrapper",Object(n.a)({},s,a,{components:t,mdxType:"MDXLayout"}),Object(c.b)("p",null,"This is the developer friendly translation of ",Object(c.b)("a",Object(n.a)({parentName:"p"},{href:"https://pardakhtcard.com/doc"}),"pardakhtcard Iranian Payment Gateway"),"."),Object(c.b)("h2",{id:"send"},"SEND"),Object(c.b)("h3",{id:"first-stage-send-data"},"First Stage: Send Data"),Object(c.b)("p",null,"In the first stage you have to send the ",Object(c.b)("em",{parentName:"p"},"parameters")," defined in the tables below, with the ",Object(c.b)("strong",{parentName:"p"},Object(c.b)("em",{parentName:"strong"},"POST"))," method to the following address:"),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"POST"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"https://pardakhtcard.com/api/payment/send\n")),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"The datatype returned from ",Object(c.b)("strong",{parentName:"p"},"Pardakhtcard.com")," is in JSON."))),Object(c.b)("h4",{id:"parameters"},"Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Field"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"DataType"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"api"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"API KEY that can be Retrieve from your User Panel, only after gateway request verification.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"amount"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Integer"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Transaction Amount in ",Object(c.b)("strong",{parentName:"td"},"TOMAN")," (Iranian Currency) and should be >= 1000.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"redirect"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),Object(c.b)("strong",{parentName:"td"},Object(c.b)("em",{parentName:"strong"},"urlencode"))," Returned address, should be the same as the verified gateway address on the same doamin.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"invoice_no"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Your Invoice number")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"description"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Description")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"payer_card_no"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Payer/Source Card Number (Optional) if you need to lock the payers card in this transaction, enter this value.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"destination"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Destination Card Number (Optional) if you need to payout to a card other than the one registered in the platform, enter this value. (mainly for rewarding purposes)")))),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Successful Response in case of valid request sent (info)"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 200 OK\n{\n  "status" : 1,\n  "data" : \n    {\n    "url" : Payment Gateway Address,\n    "token" : Payment Token\n    }\n}\n')),Object(c.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Error Message in case there is a problem"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 422 Error\n{\n  "status" : failed,\n  "error_code" : Error Code,\n  "error_msg" : Error Message\n}\n')),Object(c.b)("h5",{id:"error-codes"},"Error Codes:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 422 Error\n{\n  "-1" : sending API is required,\n  "-2" : Amount should be greater than 1000,\n  "-3" : Return (Callback) address is not Correct,\n  "-4" : Invoice ID is required,\n  "-5" : Description is required,\n  "-6" : Duplicate Transaction, Try again in few minutes,\n  "-7" : Invalid Transaction code,\n  "-8" : Entered Card number for Payout is not Valid,\n  "-9" : Invalid Card Number,\n  "-10" : Entered Source Card Number is Invalid,\n  "-11" : Entered Destination Card Number is Invalid,\n  "-12" : Entered OTP/Second Pass is not Valid,\n  "-13" : Entered CVV(2) is not Valid,\n  "-14" : Card\'s Expiration Month is Invalid,\n  "-15" : Card\'s Expiration Year is Invalid,\n "failed" : Transaction Has failed due to errors,\n}\n')),Object(c.b)("h2",{id:"offline-payment-service"},"Offline Payment Service"),Object(c.b)("p",null,"This service has been introduced recently by our platform.\nUtilizing this service, you can integrate the payment gateway on your own website independent of us and our system will handle your transactions in the background."),Object(c.b)("p",null,"To use this service you have to send all the parameters in ",Object(c.b)("strong",{parentName:"p"},"First Stage")," together with the parameters in the table below the the following address:"),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"POST"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"https://pardakhtcard.com/api/payment/send\n")),Object(c.b)("h4",{id:"parameters-1"},"Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Field"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"DataType"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"payment_type"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"To use this service, the value of this parameter should be equal to ",Object(c.b)("strong",{parentName:"td"},Object(c.b)("em",{parentName:"strong"},"offline")))),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"user_card_no"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"User's Card Number that you have obtained from your Customer/User.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"pass_code"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Second Pass/OTP that you have obtained from your Customer/User.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"cvv2"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"CVV2 Value that you have obtained from Customer/User")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"exp_month"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Expiry ",Object(c.b)("strong",{parentName:"td"},Object(c.b)("em",{parentName:"strong"},"month"))," of the card, valid range 01 to 12.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"exp_year"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Expiry ",Object(c.b)("strong",{parentName:"td"},Object(c.b)("em",{parentName:"strong"},"year"))," of the card, valid format, 2 digits.")))),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Successful Response in case of valid request sent (info)"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 200 OK\n{\n  "status" : 1,\n  "amount" : Transaction Amount,\n  "token" : Transaction Number,\n  "amount" : Transaction Amount,\n  "invoice_no" : Invoice Number,\n  "request_time" : Transaction Request Time,\n  "response" : Transaction Result,\n}\n')),Object(c.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Error Message in case there is a problem"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 422 Error\n{\n  "status" : failed,\n  "error_code" : Error Code,\n  "error_msg" : Error Message\n}\n')),Object(c.b)("h5",{id:"error-codes-1"},"Error Codes:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 422 Error\n{\n  "-1" : sending API is required,\n  "-2" : Amount should be greater than 1000,\n  "-3" : Return (Callback) address is not Correct,\n  "-4" : Invoice ID is required,\n  "-5" : Description is required,\n  "-6" : Duplicate Transaction, Try again in few minutes,\n  "-7" : Invalid Transaction code,\n  "-8" : Entered Card number for Payout is not Valid,\n  "-9" : Invalid Card Number,\n  "-10" : Entered Source Card Number is Invalid,\n  "-11" : Entered Destination Card Number is Invalid,\n  "-12" : Entered OTP/Second Pass is not Valid,\n  "-13" : Entered CVV(2) is not Valid,\n  "-14" : Card\'s Expiration Month is Invalid,\n  "-15" : Card\'s Expiration Year is Invalid,\n "failed" : Transaction Has failed due to errors,\n}\n')),Object(c.b)("h2",{id:"reward-payment-service"},"Reward Payment Service"),Object(c.b)("p",null,"You can use this service to send send rewards/gifts to your users."),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"To use this service(feature), you have to fill and send all the parameters in the ",Object(c.b)("strong",{parentName:"p"},Object(c.b)("em",{parentName:"strong"},"First Stage"))," together with an Extra parameter that is the winner's card number, in case of successful transaction, the money will be transfered to the defined (winner's) card number instead of your account."))),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"POST"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"https://pardakhtcard.com/api/payment/send\n")),Object(c.b)("h4",{id:"parameters-2"},"Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Field"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"DataType"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"destination"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"Destination Card Number (Optional) if you need to payout to a card other than the one registered in the platform, enter this value. (mainly for rewarding purposes)")))),Object(c.b)("h2",{id:"redirect"},"Redirect"),Object(c.b)("h3",{id:"second-stage-redirect-to-payment-page"},"Second Stage: Redirect to Payment Page"),Object(c.b)("p",null,'In case the first tage (sending data) is valid, and you recieve the "status" and "token" values, you have to redirect the user to the payment page.\nTo do this, you have to put the link that you have requested in the ',Object(c.b)("strong",{parentName:"p"},Object(c.b)("em",{parentName:"strong"},"url"))," parameter, in the form, and redirect the user to the disered url instantly."),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"GET"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"https://pardakhtcard.com/gateway/{token}/payment\n")),Object(c.b)("h2",{id:"callback"},"Callback"),Object(c.b)("h3",{id:"third-stage-callback"},"Third Stage: Callback"),Object(c.b)("p",null,"Third stage will initiate when the user is coming back (being returned) from the Payment Gateway. in this stage depending on the result of the Transaction, we will redirect the user to the callback address that you have set in the first stage in ",Object(c.b)("strong",{parentName:"p"},Object(c.b)("em",{parentName:"strong"},"redirect"))," parameter."),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"GET"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"http://Your-CallBack-URL?status={transaction_status}&token={token}\n\n")),Object(c.b)("h2",{id:"verify"},"Verify"),Object(c.b)("h3",{id:"fourth-stage-verify"},"Fourth Stage: Verify"),Object(c.b)("p",null,'In case the value of the field "status" that have been obtained in the previous stage is equal to ',Object(c.b)("strong",{parentName:"p"},Object(c.b)("em",{parentName:"strong"},"1")),", you have to use the actions below to verify the transaction."),Object(c.b)("div",{className:"admonition admonition-important alert alert--info"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"In case the transaction is successful, by calling the verify method, each time it will show the transaction verification message.\nto prevent any fraud, the Owner('s website) should check the transaction id ",Object(c.b)("strong",{parentName:"p"},Object(c.b)("em",{parentName:"strong"},"transId"))," of the payment network within it's database to ensure there is no duplicate records ",Object(c.b)("strong",{parentName:"p"},"before")," supplying any goods to the customer!"),Object(c.b)("p",{parentName:"div"},"this means if the ",Object(c.b)("strong",{parentName:"p"},Object(c.b)("em",{parentName:"strong"},"transId"))," is already in the db records, customer/user should not get any services!"))),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"POST"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{}),"https://pardakhtcard.com/api/payment/verify\n\n")),Object(c.b)("h4",{id:"parameters-3"},"Parameters"),Object(c.b)("table",null,Object(c.b)("thead",{parentName:"table"},Object(c.b)("tr",{parentName:"thead"},Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"Field"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"DataType"),Object(c.b)("th",Object(n.a)({parentName:"tr"},{align:"center"}),"Description"))),Object(c.b)("tbody",{parentName:"table"},Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"api"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"api code obtained from ",Object(c.b)("em",{parentName:"td"},"pardakhtcard.com")," website.")),Object(c.b)("tr",{parentName:"tbody"},Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"token"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"String"),Object(c.b)("td",Object(n.a)({parentName:"tr"},{align:"center"}),"token obtained in callback stage.")))),Object(c.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"tip")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Successful Response in case of valid request sent (info)"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 200 OK\n{\n  "status" : 1,\n  "amount" : Transaction Amount,\n  "token" : Transaction Number,\n  "amount" : Transaction Amount,\n  "invoice_no" : Invoice Number,\n  "request_time" : Transaction Request Time,\n  "response" : Transaction Result,\n}\n')),Object(c.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},"Error Message in case there is a problem"))),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 422 Error\n{\n  "status" : failed,\n  "error_code" : Error Code,\n  "error_msg" : Error Message\n}\n')),Object(c.b)("h5",{id:"error-codes-2"},"Error Codes:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-json"}),'HTTP/1.1 422 Error\n{\n  "-1" : sending API is required,\n  "-7" : Invalid Transaction Code,\n  "failed" : Transaction has failed due to Erros,\n}\n')),Object(c.b)("h4",{id:"php-example-code"},"PHP Example Code:"),Object(c.b)("h5",{id:"sendphp"},"send.php:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),'<?php\n\ninclude_once("functions.php");\n$api = \'YOUR-API-KEY\';\n$amount = "amount in Iranian Rial";\n$factorNumber = "Invoice Number";\n$description = "Description";\n$redirect = \'http://YOUR-CALLBACK-URL\';\n$result = send($api, $amount, $redirect, $factorNumber, $description);\n$result = json_decode($result);\nif($result->status) {\n    $go = $result->data->url;\n    header("Location: $go");\n} else {\n    echo $result->error_msg;\n}\n')),Object(c.b)("h5",{id:"verifyphp"},"verify.php:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"<?php\n\ninclude_once(\"functions.php\");\n$api = 'YOUR-API-KEY';\n$token = $_GET['token'];\n$result = json_decode(verify($api,$token));\nif(isset($result->status)){\n    if($result->status == 'success'){\n        echo \"<h1>transaction has been successfully completed </h1>\";\n    } else {\n        echo \"<h1>transaction has failed due to error</h1>\";\n    }\n} else {\n    if($_GET['status'] == 0){\n        echo \"<h1>transaction has failed due to error</h1>\";\n    }\n}\n")),Object(c.b)("h5",{id:"functionsphp"},"functions.php:"),Object(c.b)("pre",null,Object(c.b)("code",Object(n.a)({parentName:"pre"},{className:"language-php"}),"<?php\n\nfunction send($api, $amount, $redirect, $mobile = null, $factorNumber = null, $description = null) {\n    return curl_post('https://pardakhtcard.com/api/payment/send', [\n        'api'          => $api,\n        'amount'       => $amount,\n        'redirect'     => $redirect,\n        'invoice_no' => $factorNumber,\n        'description'  => $description,\n    ]);\n}\n\nfunction verify($api, $token) {\n    return curl_post('https://pardakhtcard.com/api/payment/verify', [\n        'api'   => $api,\n        'token' => $token,\n    ]);\n}\n\nfunction curl_post($url, $params)\n{\n    $ch = curl_init();\n    curl_setopt($ch, CURLOPT_URL, $url);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($params));\n    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);\n    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, [\n        'Content-Type: application/json',\n    ]);\n    $res = curl_exec($ch);\n    curl_close($ch);\n\n    return $res;\n}\n")),Object(c.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(c.b)("h5",{parentName:"div"},Object(c.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(c.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(c.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(c.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(c.b)("p",{parentName:"div"},'Dear Implementation Engineer, all of the response codes and string in the example codes provided here are translated to English to make your life easier.\nPlease return the favor to end users by using the Original "PERSIAN/FARSI" values when you have successfully implemented this.\nThanks.'))))}d.isMDXComponent=!0}}]);